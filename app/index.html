<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulletin AI | R√©digez vos bulletins 10x plus vite</title>
    <meta name="description"
        content="Assistant intelligent pour enseignants. Importez vos notes, g√©n√©rez des appr√©ciations personnalis√©es par IA et exportez vos bulletins en quelques clics.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS -->
    <link rel="stylesheet" href="./src/css/landing.css">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/icon.png">
</head>

<body>

    <!-- Background Elements -->
    <div class="lp-bg-gradient">
        <div class="lp-bg-orb lp-bg-orb--primary"></div>
        <div class="lp-bg-orb lp-bg-orb--accent"></div>
        <div class="lp-bg-orb lp-bg-orb--secondary"></div>
    </div>

    <!-- Navigation -->
    <nav class="lp-nav" id="navbar">
        <div class="lp-container lp-nav__inner">
            <a href="#" class="lp-nav__brand">
                <img src="./assets/icon.png" alt="Logo" class="lp-nav__logo">
                Bulletin AI
            </a>

            <div class="lp-nav__links">
                <a href="#how-it-works" class="lp-nav__link">Comment √ßa marche</a>
                <a href="#features" class="lp-nav__link">Fonctionnalit√©s</a>
                <a href="#testimonials" class="lp-nav__link">T√©moignages</a>
                <a href="#faq" class="lp-nav__link">FAQ</a>
            </div>

            <div class="lp-nav__cta">

                <a href="./app.html" class="lp-btn lp-btn--primary lp-btn--sm">
                    Lancer l'App
                </a>
                <button class="lp-nav__toggle" aria-label="Menu" onclick="toggleMobileMenu()">
                    <span class="lp-nav__toggle-icon"></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="lp-section lp-section--hero">
        <div class="lp-container">
            <div class="lp-hero__content">
                <div class="lp-hero__badge">
                    <i class="fas fa-sparkles lp-hero__badge-icon"></i>
                    <span>v0.1.0 Beta ¬∑ Open Source</span>
                </div>

                <h1 class="lp-hero__title">
                    Vos bulletins, r√©dig√©s par <br>
                    <span class="lp-hero__title-gradient">votre assistant</span>.
                </h1>

                <p class="lp-hero__subtitle">
                    Importez vos donn√©es, ajoutez du contexte, et laissez l'IA r√©diger des appr√©ciations
                    personnalis√©es pour chaque √©l√®ve. Vous supervisez, vous gagnez du temps.
                </p>

                <div class="lp-hero__actions">
                    <a href="./app.html" class="lp-btn lp-btn--primary lp-btn--lg">
                        <i class="fas fa-wand-magic-sparkles"></i> Lancer l'application
                    </a>
                </div>

                <div class="lp-hero__stats">
                    <div class="lp-hero__stat">
                        <div class="lp-hero__stat-icon"><i class="fas fa-check"></i></div>
                        <span>100% Gratuit</span>
                    </div>
                    <div class="lp-hero__stat">
                        <div class="lp-hero__stat-icon"><i class="fas fa-user-secret"></i></div>
                        <span>√âl√®ves anonymis√©s</span>
                    </div>
                    <div class="lp-hero__stat">
                        <div class="lp-hero__stat-icon"><i class="fas fa-shield-alt"></i></div>
                        <span>Donn√©es locales</span>
                    </div>
                </div>

                <!-- Integrated Demo Mockup -->
                <div class="lp-hero__visual lp-reveal">
                    <div class="lp-hero__mockup">
                        <div class="lp-hero__mockup-header">
                            <div class="lp-hero__mockup-title">
                                <i class="fas fa-bolt"></i> Assistant de r√©daction
                            </div>
                            <div class="lp-hero__mockup-controls">
                                <span class="lp-hero__control"></span>
                                <span class="lp-hero__control"></span>
                            </div>
                        </div>
                        <div class="lp-hero__mockup-content">
                            <!-- Left: Input/Problem -->
                            <div class="lp-hero__mockup-before">
                                <div class="lp-hero__mockup-label">
                                    <i class="fas fa-file-excel"></i> Donn√©es brutes
                                </div>
                                <div class="lp-hero__mockup-text">
                                    <strong>Math√©o D.</strong><br>
                                    Moyenne : 8.5/20<br>
                                    <em>"Bavardages incessants, passif en cours, r√©sultats en baisse..."</em>
                                </div>
                            </div>

                            <!-- Right: Output/Solution -->
                            <div class="lp-hero__mockup-after" id="mockup-ai-card">
                                <div class="lp-hero__mockup-label">
                                    <i class="fas fa-robot"></i> Appr√©ciation IA
                                </div>
                                <div class="lp-hero__mockup-text-container">
                                    <div class="lp-hero__mockup-text-ghost">
                                        Les r√©sultats de Math√©o sont fragiles ce trimestre. Un manque d'investissement
                                        et des bavardages perturbent sa progression. Il est imp√©ratif qu'il se recentre
                                        et adopte une attitude plus studieuse pour redresser la barre.
                                    </div>
                                    <div class="lp-hero__mockup-text lp-hero__mockup-text-absolute" id="mockup-ai-text">
                                        <!-- Text will be injected by JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Social Proof -->


    <!-- Problem / Solution (Avant/Apr√®s) -->
    <section class="lp-section" id="problem-solution">
        <div class="lp-container">
            <div class="lp-compare">
                <!-- Sans Bulletin AI -->
                <div class="lp-compare__side lp-compare__side--problem lp-reveal">
                    <div class="lp-compare__icon">
                        <i class="fas fa-hourglass-half"></i>
                    </div>
                    <div class="lp-compare__label">Avant</div>
                    <h3 class="lp-compare__title">La corv√©e des bulletins</h3>
                    <p class="lp-compare__text">
                        Des heures √† chercher ses mots, les m√™mes phrases qui reviennent.
                    </p>
                    <ul class="lp-compare__list">
                        <li><i class="fas fa-times-circle"></i> Plusieurs heures par trimestre</li>
                        <li><i class="fas fa-times-circle"></i> Formulations r√©p√©titives</li>
                        <li><i class="fas fa-times-circle"></i> Fatigue mentale</li>
                    </ul>
                </div>

                <!-- Arrow -->
                <div class="lp-compare__arrow lp-reveal lp-reveal--delay-1">
                    <i class="fas fa-arrow-right"></i>
                </div>

                <!-- Avec Bulletin AI -->
                <div class="lp-compare__side lp-compare__side--solution lp-reveal lp-reveal--delay-2">
                    <div class="lp-compare__icon">
                        <i class="fas fa-magic"></i>
                    </div>
                    <div class="lp-compare__label">Avec Bulletin AI</div>
                    <h3 class="lp-compare__title">Supervision intelligente</h3>
                    <p class="lp-compare__text">
                        L'IA r√©dige, vous supervisez et gardez le contr√¥le.
                    </p>
                    <ul class="lp-compare__list">
                        <li><i class="fas fa-check-circle"></i> Quelques minutes par trimestre</li>
                        <li><i class="fas fa-check-circle"></i> Personnalisation unique</li>
                        <li><i class="fas fa-check-circle"></i> Moins de t√¢ches robotiques</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- How it Works -->
    <section class="lp-section" id="how-it-works">
        <div class="lp-container lp-steps">
            <div class="lp-steps__header lp-reveal">
                <h2 class="lp-steps__title">Comment √ßa marche ?</h2>
                <p class="lp-steps__subtitle">Trois √©tapes simples pour transformer vos donn√©es en appr√©ciations
                    personnalis√©es.</p>
            </div>

            <div class="lp-steps__grid">
                <!-- Step 1 -->
                <div class="lp-step lp-reveal lp-reveal--delay-1">
                    <div class="lp-step__number">1</div>
                    <div class="lp-step__icon">
                        <i class="fas fa-file-import"></i>
                    </div>
                    <h3 class="lp-step__title">Importez vos donn√©es</h3>
                    <div class="lp-step__badge"><i class="fas fa-bolt"></i> 30 secondes</div>
                    <p class="lp-step__text">
                        Un simple copier-coller depuis n'importe quel tableur. Les colonnes sont d√©tect√©es
                        automatiquement.
                    </p>
                </div>

                <!-- Step 2 -->
                <div class="lp-step lp-reveal lp-reveal--delay-2">
                    <div class="lp-step__number">2</div>
                    <div class="lp-step__icon">
                        <i class="fas fa-wand-magic-sparkles"></i>
                    </div>
                    <h3 class="lp-step__title">G√©n√©rez en un clic</h3>
                    <div class="lp-step__badge"><i class="fas fa-robot"></i> Automatique</div>
                    <p class="lp-step__text">
                        Choisissez le ton souhait√© et l'IA r√©dige des appr√©ciations uniques pour chaque √©l√®ve.
                    </p>
                </div>

                <!-- Step 3 -->
                <div class="lp-step lp-reveal lp-reveal--delay-3">
                    <div class="lp-step__number">3</div>
                    <div class="lp-step__icon">
                        <i class="fas fa-check-double"></i>
                    </div>
                    <h3 class="lp-step__title">Supervisez et exportez</h3>
                    <div class="lp-step__badge"><i class="fas fa-check-circle"></i> Export direct</div>
                    <p class="lp-step__text">
                        Relisez, ajustez si besoin, puis copiez directement dans votre logiciel scolaire.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Bento Grid Features -->
    <section class="lp-section" id="features">
        <div class="lp-container">
            <div class="lp-features__header lp-reveal">
                <h2 class="lp-features__title">Tout ce dont vous avez besoin</h2>
                <p class="lp-features__subtitle">Une interface fluide et ergonomique, pens√©e pour les enseignants.</p>
            </div>

            <div class="lp-bento">
                <!-- Large Feature -->
                <div class="lp-bento__item lp-bento__item--wide lp-reveal lp-reveal--delay-1">
                    <div class="lp-bento__icon lp-bento__icon--accent">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3 class="lp-bento__title">Multi-Mod√®les IA</h3>
                    <p class="lp-bento__text">
                        Utilisez gratuitement Google Gemini int√©gr√©, ou Ollama pour une utilisation 100% locale
                        et hors-ligne. Vous gardez le contr√¥le total.
                    </p>
                </div>

                <!-- Feature 2 -->
                <div class="lp-bento__item lp-reveal lp-reveal--delay-2">
                    <div class="lp-bento__icon">
                        <i class="fas fa-user-edit"></i>
                    </div>
                    <h3 class="lp-bento__title">Personnalisation</h3>
                    <p class="lp-bento__text">
                        D√©finissez des r√®gles pr√©cises : vouvoiement, tutoiement, structure des phrases, et vocabulaire
                        sp√©cifique.
                    </p>
                </div>

                <!-- Feature 3 -->
                <div class="lp-bento__item lp-reveal lp-reveal--delay-3">
                    <div class="lp-bento__icon">
                        <i class="fas fa-user-secret"></i>
                    </div>
                    <h3 class="lp-bento__title">Anonymisation Auto</h3>
                    <p class="lp-bento__text">
                        Les noms des √©l√®ves sont automatiquement anonymis√©s avant envoi √† l'IA. Vos donn√©es sont
                        stock√©es localement dans votre navigateur.
                    </p>
                </div>

                <!-- Feature 4 -->
                <div class="lp-bento__item lp-reveal">
                    <div class="lp-bento__icon">
                        <i class="fas fa-file-csv"></i>
                    </div>
                    <h3 class="lp-bento__title">Formats Universels</h3>
                    <p class="lp-bento__text">
                        Compatible CSV, Excel, et copier-coller direct depuis les principaux logiciels scolaires.
                    </p>
                </div>

                <!-- Feature 5 (Wide) -->
                <div class="lp-bento__item lp-bento__item--wide lp-reveal lp-reveal--delay-1">
                    <div class="lp-bento__icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <h3 class="lp-bento__title">Contexte Personnalis√©</h3>
                    <p class="lp-bento__text">
                        Bien plus qu'une simple moyenne ! Tenez un journal de bord durant le trimestre : observations,
                        comportement, participation. L'IA synth√©tise tout pour des appr√©ciations vraiment
                        personnalis√©es.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Carousel -->
    <section class="lp-section" id="testimonials">
        <div class="lp-container lp-testimonials">
            <div class="lp-testimonials__header lp-reveal">
                <h2 class="lp-testimonials__title">Ils ont gagn√© du temps</h2>
                <p class="lp-testimonials__subtitle">D√©couvrez ce que les enseignants pensent de Bulletin AI.</p>
            </div>

            <!-- Placeholder Testimonials Grid -->
            <div class="lp-testimonials__grid lp-testimonials__grid--compact">
                <!-- Active Placeholder - CTA -->
                <a href="https://docs.google.com/forms/d/e/1FAIpQLScMfb2MVugiZpgq-ITF5RxG8dKQAd8zKvHuTHHIfhN18Ucmag/viewform"
                    target="_blank"
                    class="lp-testimonial lp-testimonial--placeholder lp-testimonial--featured lp-reveal">
                    <div class="lp-testimonial__placeholder-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="lp-testimonial__placeholder-text">
                        "Soyez parmi les premiers √† partager votre exp√©rience..."
                    </p>
                    <div class="lp-testimonial__cta-hint">
                        <i class="fas fa-arrow-right"></i> Donner mon avis
                    </div>
                    <div class="lp-testimonial__placeholder-author">
                        <div class="lp-testimonial__placeholder-avatar">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="lp-testimonial__placeholder-info">
                            <div class="lp-testimonial__placeholder-name">Vous ?</div>
                            <div class="lp-testimonial__placeholder-role">Testeur Beta</div>
                            <div class="lp-testimonial__placeholder-stars">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</div>
                        </div>
                    </div>
                </a>

                <!-- Single skeleton for visual balance -->
                <div class="lp-testimonial lp-testimonial--skeleton lp-reveal lp-reveal--delay-1">
                    <div class="lp-skeleton lp-skeleton--icon"></div>
                    <div class="lp-skeleton lp-skeleton--text"></div>
                    <div class="lp-skeleton lp-skeleton--text lp-skeleton--short"></div>
                    <div class="lp-testimonial__placeholder-author">
                        <div class="lp-skeleton lp-skeleton--avatar"></div>
                        <div class="lp-skeleton lp-skeleton--info"></div>
                    </div>
                </div>
            </div>

            <!-- Beta Notice -->
            <div class="lp-testimonials__beta-notice lp-reveal lp-reveal--delay-2">
                <p>
                    <i class="fas fa-flask"></i>
                    Bulletin AI est en beta. Testez l'application et
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLScMfb2MVugiZpgq-ITF5RxG8dKQAd8zKvHuTHHIfhN18Ucmag/viewform"
                        target="_blank">partagez votre avis</a> !
                </p>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="lp-section" id="faq">
        <div class="lp-container">
            <div class="lp-faq__header lp-reveal">
                <h2 class="lp-faq__title">Questions Fr√©quentes</h2>
                <p class="lp-faq__subtitle">Tout ce que vous devez savoir avant de commencer.</p>
            </div>

            <div class="lp-faq__list">
                <!-- Q1 -->
                <div class="lp-faq__item lp-reveal">
                    <button class="lp-faq__question" onclick="toggleFaq(this)">
                        Est-ce vraiment gratuit ?
                        <span class="lp-faq__icon"><i class="fas fa-chevron-down"></i></span>
                    </button>
                    <div class="lp-faq__answer">
                        <div class="lp-faq__answer-content">
                            Oui, Bulletin AI est un projet Open Source. L'application fonctionne 100% gratuitement avec
                            Google Gemini ou Ollama (local). Vous pouvez aussi connecter des mod√®les payants (OpenAI,
                            etc.)
                            si vous le souhaitez, mais ce n'est pas obligatoire.
                        </div>
                    </div>
                </div>

                <!-- Q2 -->
                <div class="lp-faq__item lp-reveal">
                    <button class="lp-faq__question" onclick="toggleFaq(this)">
                        Mes donn√©es sont-elles s√©curis√©es ?
                        <span class="lp-faq__icon"><i class="fas fa-chevron-down"></i></span>
                    </button>
                    <div class="lp-faq__answer">
                        <div class="lp-faq__answer-content">
                            Absolument. Bulletin AI anonymise automatiquement les noms des √©l√®ves avant tout envoi √†
                            l'IA.
                            Vos donn√©es sont stock√©es localement dans votre navigateur. Une synchronisation Google Drive
                            optionnelle est disponible, mais son usage d√©pend des r√®gles RGPD de votre √©tablissement.
                        </div>
                    </div>
                </div>

                <!-- Q3 -->
                <div class="lp-faq__item lp-reveal">
                    <button class="lp-faq__question" onclick="toggleFaq(this)">
                        Puis-je modifier les appr√©ciations g√©n√©r√©es ?
                        <span class="lp-faq__icon"><i class="fas fa-chevron-down"></i></span>
                    </button>
                    <div class="lp-faq__answer">
                        <div class="lp-faq__answer-content">
                            Bien s√ªr ! L'IA propose une base de r√©daction, mais vous gardez la main totale. Vous pouvez
                            √©diter, reformuler ou compl√©ter chaque appr√©ciation avant de l'exporter.
                        </div>
                    </div>
                </div>

                <!-- Q4 -->
                <div class="lp-faq__item lp-reveal">
                    <button class="lp-faq__question" onclick="toggleFaq(this)">
                        Comment installer l'application ?
                        <span class="lp-faq__icon"><i class="fas fa-chevron-down"></i></span>
                    </button>
                    <div class="lp-faq__answer">
                        <div class="lp-faq__answer-content">
                            C'est une application web, il n'y a rien √† installer ! Cliquez simplement sur "Lancer l'App"
                            et vous pouvez commencer imm√©diatement dans votre navigateur.
                        </div>
                    </div>
                </div>

                <!-- Q5 -->
                <div class="lp-faq__item lp-reveal">
                    <button class="lp-faq__question" onclick="toggleFaq(this)">
                        Quel mod√®le IA choisir ?
                        <span class="lp-faq__icon"><i class="fas fa-chevron-down"></i></span>
                    </button>
                    <div class="lp-faq__answer">
                        <div class="lp-faq__answer-content">
                            Pour la plupart des usages, <strong>Google Gemini</strong> (gratuit et int√©gr√©) est id√©al.
                            Si vous pr√©f√©rez garder vos donn√©es 100% locales, utilisez <strong>Ollama</strong> avec un
                            mod√®le
                            comme Llama ou Mistral. Les mod√®les payants (OpenAI, etc.) sont optionnels.
                        </div>
                    </div>
                </div>

                <!-- Q6 -->
                <div class="lp-faq__item lp-reveal">
                    <button class="lp-faq__question" onclick="toggleFaq(this)">
                        Compatible avec mon logiciel scolaire ?
                        <span class="lp-faq__icon"><i class="fas fa-chevron-down"></i></span>
                    </button>
                    <div class="lp-faq__answer">
                        <div class="lp-faq__answer-content">
                            Oui ! Bulletin AI fonctionne en copier-coller depuis n'importe quel tableur
                            (Excel, Google Sheets, Pronote export, etc.) et vers n'importe quel logiciel scolaire.
                            Les appr√©ciations g√©n√©r√©es peuvent √™tre copi√©es directement o√π vous le souhaitez.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="lp-section lp-cta">
        <div class="lp-container lp-reveal">
            <div class="lp-cta__content">
                <h2 class="lp-cta__title">Pr√™t √† gagner du temps ?</h2>
                <p class="lp-cta__text">Testez Bulletin AI et dites-nous ce que vous en pensez.</p>
                <a href="./app.html" class="lp-btn lp-btn--primary lp-btn--lg">
                    <i class="fas fa-rocket"></i> Commencer maintenant
                </a>
            </div>

            <!-- Glass Project Open Source Section (Merged) -->
            <div class="lp-cta__contribute-glass">
                <div class="lp-contribute__content">
                    <div class="lp-contribute__icon">
                        <i class="fas fa-code-branch"></i>
                    </div>
                    <div class="lp-contribute__text">
                        <h3 class="lp-contribute__title">Projet Open Source</h3>
                        <p>Il vous est possible de contribuer au code ou de soutenir le projet</p>
                    </div>
                    <div class="lp-contribute__actions">
                        <a href="https://github.com/davidt123456789/Bulletin-AI" target="_blank"
                            class="lp-btn lp-btn--secondary lp-btn--sm">
                            <i class="fab fa-github"></i> GitHub
                        </a>
                        <a href="https://ko-fi.com/profassistant" target="_blank"
                            class="lp-btn lp-btn--accent lp-btn--sm">
                            <i class="fas fa-heart"></i> Soutenir
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="lp-footer lp-footer--wide">
        <div class="lp-container">
            <div class="lp-footer__wide">
                <div class="lp-footer__brand-inline">
                    <img src="./assets/icon.png" alt="Logo" class="lp-footer__logo-sm">
                    <span>Bulletin AI</span>
                </div>
                <div class="lp-footer__links-inline">
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLScMfb2MVugiZpgq-ITF5RxG8dKQAd8zKvHuTHHIfhN18Ucmag/viewform"
                        target="_blank"><i class="fas fa-comment-dots"></i> Avis</a>
                    <span class="lp-footer__separator">‚Ä¢</span>
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.fr" target="_blank">CC BY-NC-SA</a>
                </div>
                <div class="lp-footer__copyright">
                    ¬© 2025 ‚Äî D√©velopp√© par un prof, pour les profs üéì
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Navbar Scroll Effect
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('is-scrolled');
            } else {
                navbar.classList.remove('is-scrolled');
            }
        });

        // Mobile Menu Toggle
        function toggleMobileMenu() {
            // Simple alert for now, can be expanded to a real drawer
            const links = document.querySelector('.lp-nav__links');
            if (links.style.display === 'flex') {
                links.style.display = '';
            } else {
                links.style.display = 'flex';
                links.style.flexDirection = 'column';
                links.style.position = 'absolute';
                links.style.top = '100%';
                links.style.left = '0';
                links.style.width = '100%';
                links.style.background = 'var(--lp-surface)';
                links.style.padding = '20px';
                links.style.boxShadow = 'var(--lp-shadow-lg)';
            }
        }

        // FAQ Toggle
        function toggleFaq(button) {
            const item = button.parentElement;
            const isOpen = item.classList.contains('is-open');

            // Close all others
            document.querySelectorAll('.lp-faq__item').forEach(i => {
                i.classList.remove('is-open');
            });

            // Toggle current
            if (!isOpen) {
                item.classList.add('is-open');
            }
        }

        // Scroll Reveal Animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px"
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target); // Only animate once
                }
            });
        }, observerOptions);

        document.querySelectorAll('.lp-reveal').forEach(el => {
            observer.observe(el);
        });

        // ============================================
        // PAGE TRANSITION (iOS 2025 Style)
        // ============================================

        /**
         * Creates an elegant zoom-out + fade transition when navigating to the app
         * Uses View Transitions API where available, with CSS fallback
         */
        function initPageTransition() {
            // Create transition overlay element
            const overlay = document.createElement('div');
            overlay.className = 'lp-transition-overlay';
            document.body.appendChild(overlay);

            // Find all links to app.html
            const appLinks = document.querySelectorAll('a[href="./app.html"], a[href="app.html"]');

            appLinks.forEach(link => {
                link.addEventListener('click', async (e) => {
                    e.preventDefault();
                    const targetUrl = link.href;

                    // Add transitioning state to clicked button
                    link.classList.add('is-transitioning');

                    // Check if View Transitions API is supported
                    if (document.startViewTransition) {
                        // Modern browsers: Use native View Transitions
                        document.startViewTransition(() => {
                            window.location.href = targetUrl;
                        });
                    } else {
                        // Fallback: CSS-based transition
                        // 1. Activate overlay (subtle white flash)
                        overlay.classList.add('is-active');

                        // 2. Trigger exit animation on body
                        document.body.classList.add('is-transitioning-out');

                        // 3. Navigate after animation completes
                        // Mark navigation timestamp for app to detect
                        sessionStorage.setItem('landingTransition', Date.now().toString());

                        setTimeout(() => {
                            window.location.href = targetUrl;
                        }, 500); // Match animation duration
                    }
                });
            });
        }

        // Initialize transition system
        initPageTransition();

        // ============================================
        // TESTIMONIALS CAROUSEL (iOS Style)
        // ============================================

        /**
         * Smooth testimonials carousel with auto-advance and dot navigation
         * Features: blur-to-sharp transitions, pause on hover, touch support
         */
        function initTestimonialsCarousel() {
            const carousel = document.getElementById('testimonials-carousel');
            if (!carousel) return;

            const slides = carousel.querySelectorAll('.lp-carousel__slide');
            const dots = carousel.querySelectorAll('.lp-carousel__dot');

            let currentSlide = 0;
            let autoPlayInterval = null;
            let isPaused = false;
            const AUTO_ADVANCE_DELAY = 6000; // 6 seconds

            /**
             * Go to a specific slide with smooth animation
             */
            function goToSlide(index) {
                if (index === currentSlide) return;

                const prevSlide = slides[currentSlide];
                const nextSlide = slides[index];

                // Add exiting class for left exit animation
                prevSlide.classList.add('is-exiting');
                prevSlide.classList.remove('is-active');

                // Activate new slide
                nextSlide.classList.add('is-active');

                // Update dots
                dots.forEach((dot, i) => {
                    dot.classList.toggle('is-active', i === index);
                });

                // Cleanup exiting class after animation
                setTimeout(() => {
                    prevSlide.classList.remove('is-exiting');
                }, 600);

                currentSlide = index;
            }

            /**
             * Advance to next slide
             */
            function nextSlide() {
                const next = (currentSlide + 1) % slides.length;
                goToSlide(next);
            }

            /**
             * Start auto-advance timer
             */
            function startAutoPlay() {
                if (autoPlayInterval) clearInterval(autoPlayInterval);
                autoPlayInterval = setInterval(() => {
                    if (!isPaused) {
                        nextSlide();
                    }
                }, AUTO_ADVANCE_DELAY);
            }

            /**
             * Pause/resume on hover
             */
            carousel.addEventListener('mouseenter', () => {
                isPaused = true;
            });

            carousel.addEventListener('mouseleave', () => {
                isPaused = false;
            });

            /**
             * Dot click navigation
             */
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    goToSlide(index);
                    // Reset auto-play timer when manually navigating
                    startAutoPlay();
                });
            });

            // Start the carousel
            startAutoPlay();
        }

        // Initialize carousel when DOM is ready
        initTestimonialsCarousel();

        // ============================================
        // HERO MOCKUP TYPING ANIMATION
        // ============================================
        function initMockupAnimation() {
            const aiTextElement = document.getElementById('mockup-ai-text');
            const aiCard = document.getElementById('mockup-ai-card');

            if (!aiTextElement || !aiCard) return;

            const fullText = "Les r√©sultats de Math√©o sont fragiles ce trimestre. Un manque d'investissement et des bavardages perturbent sa progression. Il est imp√©ratif qu'il se recentre et adopte une attitude plus studieuse pour redresser la barre.";

            // Split text into word chunks for natural typing
            const words = fullText.split(' ');
            let currentWordIndex = 0;
            let isTyping = false;

            function typeWords() {
                if (currentWordIndex < words.length) {
                    // Create word span
                    const span = document.createElement('span');
                    span.textContent = words[currentWordIndex] + ' ';
                    span.style.opacity = '0';
                    span.style.filter = 'blur(4px)';
                    span.style.transition = 'all 0.4s ease';

                    aiTextElement.appendChild(span);

                    // Trigger reflow
                    span.offsetHeight;

                    // Animate in
                    span.style.opacity = '1';
                    span.style.filter = 'blur(0)';

                    currentWordIndex++;

                    // Random typing speed
                    const delay = Math.random() * 50 + 30;
                    setTimeout(typeWords, delay);
                } else {
                    // Done typing
                    aiCard.classList.remove('is-generating');
                    setTimeout(resetAnimation, 5000); // Wait 5s before restart
                }
            }

            function resetAnimation() {
                // Clear text
                aiTextElement.innerHTML = '';
                currentWordIndex = 0;

                // Start "Thinking" phase
                aiCard.classList.add('is-generating'); // Add pulsing border or effect

                // Simulate processing time then start typing
                setTimeout(() => {
                    typeWords();
                }, 800);
            }

            // Start initial animation after a small delay
            setTimeout(resetAnimation, 1000);
        }

        initMockupAnimation();

        // ============================================
        // SCROLLSPY (Dynamic Header)
        // ============================================
        function initScrollSpy() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.lp-nav__links a');

            // Options to trigger when section is in the middle of viewport
            const observerOptions = {
                rootMargin: '-20% 0px -60% 0px',
                threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Clean all active classes
                        navLinks.forEach(link => link.classList.remove('is-active'));

                        // Add active class to corresponding link
                        const id = entry.target.getAttribute('id');
                        const activeLink = document.querySelector(`.lp-nav__links a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('is-active');
                        }
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });
        }

        initScrollSpy();

        // ============================================
        // STEP CARDS BREATHING GLOW ANIMATION
        // Simple: each step activates in sequence with breathing glow
        // ============================================
        function initStepActivation() {
            const steps = document.querySelectorAll('.lp-step');
            if (steps.length === 0) return;

            const STEP_DURATION = 2500;  // Time each step stays active (ms)
            let currentStep = 0;

            function activateStep() {
                // Remove active from all
                steps.forEach(s => s.classList.remove('is-active'));

                // Activate current
                steps[currentStep].classList.add('is-active');

                // Next step
                currentStep = (currentStep + 1) % steps.length;
            }

            // Start with first step
            activateStep();

            // Cycle through steps
            setInterval(activateStep, STEP_DURATION);
        }

        initStepActivation();
    </script>
</body>

</html>